function initPage(){var e;stickyHeader(),activeLang(),typedText(),scrollDowns(),validateFields(),addDMY(),dateMask(),checkAgree(),enableClick(),calc(),calcToggle(),timeMask(),datePicker(),eventDropDown(),openMenuSetting(),callPopup(),ImgTobg(),notifications(),dropdown(),formEffect(),password(),customSelect(),(e=document.getElementById("tweet"))&&e.addEventListener("keyup",function(e){var t;t=300-document.getElementById("tweet").value.length,document.getElementById("charactersRemaining").textContent=t},!1)}function dropdown(){$(".dropdown-btn").click(function(e){e.preventDefault(),$(this).parent().toggleClass("open")}),$(document).on("mouseup touchend ",function(e){var t=$(".dropdown");t.is(e.target)||0!==t.has(e.target).length||t.removeClass("open")})}function ImgTobg(){$(".img-to-bg").each(function(){$(this).find("img").length&&$(this).css("background-image","url("+$(this).find("> img").attr("src")+")")})}function notifications(){function o(){$('.dashboard-option[data-name="share"]').on("click",function(e){e.preventDefault(),console.log("share")})}function n(){$('.dashboard-option[data-name="pencil-square"]').on("click",function(e){e.preventDefault(),console.log("pencil-square")})}function i(){$('.dashboard-option[data-name="external-link"]').on("click",function(e){e.preventDefault(),document.querySelector(".notifications")&&($('.notifications[data-name="success"]').addClass("notifications_show"),setTimeout(function(){$('.notifications[data-name="success"]').removeClass("notifications_show")},5e3))})}function s(){$('.dashboard-option[data-name="delete"]').on("click",function(e){e.preventDefault(),console.log("delete")})}$(".notifications__close").on("click",function(e){e.preventDefault(),$(this).parent().removeClass("notifications_show")}),o(),n(),i(),s(),$('.dashboard-option[data-name="copy"]').on("click",function(e){e.preventDefault(),document.querySelector(".notifications")&&($('.notifications[data-name="event-copy"]').addClass("notifications_show"),setTimeout(function(){$('.notifications[data-name="event-copy"]').removeClass("notifications_show")},5e3));var t=$(this).parents(".dashboard-cell").find(".dashboard-desc").text(),a=$(this).parents(".dashboard-cell").attr("href");$('<a href="'+a+'" class="mix dashboard-cell drafts"><button type="button" class="btn btn_warning">Draft</button><div class="dashboard-wrap-options"><div class="dashboard-hover"><button class="dashboard-option" data-name="pencil-square"><div class="dashboard-txt edit">Edit</div><img src="images/pencil-square.svg" alt="copy" class="dashboard-icon"></button></div><div class="dashboard-hover"><button class="dashboard-option" data-name="delete"><div class="dashboard-txt delete">Delete</div><img src="images/delete.svg" alt="copy" class="dashboard-icon"></button></div></div><div class="dashboard-content"><div class="dashboard-img img-to-bg"><img src="images/06.jpg" alt="images" class="dashboard-pic"></div><div class="dashboard-subject"><div class="dashboard-wrap-caption"><div class="dashboard-date"><p class="dashboard-month accent"></p><p class="dashboard-day card"></p></div><h3 class="h3 dashboard-desc">'+t+'</h3></div><div class="dashboard-wrap-text"><p class="dashboard-card card"></p><p class="dashboard-place card"></p></div></div></div></a>').prependTo(".dashboard__board"),s(),n(),o(),i()})}function addTask(){$(".create-event__main .btn-add").on("click",function(e){e.preventDefault()})}function stickyHeader(){window.onscroll=function(){0<window.pageYOffset?$(".header-page").addClass("active-shadow"):$(".header-page").removeClass("active-shadow")}}function activeLang(){$(".header__layout-items:nth-child(2)").click(function(){$(this).addClass("active-items"),$(".header__layout-items:first-child").removeClass("active-items"),$(".header__layout").toggleClass("close")}),$(".header__layout-items:first-child").click(function(){$(this).addClass("active-items"),$(".header__layout-items:nth-child(2)").removeClass("active-items"),$(".header__layout").toggleClass("close")})}function typedText(){if(0<$(".hero-strings").length)new Typed("#typed",{stringsElement:"#hero-strings-js",typeSpeed:200,loop:!0})}function scrollDowns(){$(".hero__features").on("click","a",function(e){e.preventDefault();var t=$(this).attr("href"),a=$(t).offset().top;$("body,html").animate({scrollTop:a},1e3)})}function formEffect(){$(".form-group .form__control").focusin(function(e){$(this).parent().removeClass("form__box_valid"),$(this).parent().removeClass("form__box_error")}).focusout(function(e){$(this).parent().removeClass("input--filled")}),$(".form-group .form__control").on("keyup",function(){$(this).val().length<0?($(this).parent().find(".form__control-clear").removeClass("active"),$(this).parent().removeClass("input--filled")):($(this).parent().find(".form__control-clear").addClass("active"),$(this).parent().addClass("input--filled"))})}function password(){$(".password .form__control").on("input",function(){$(this).val().length?$(this).parent().addClass("password_enter"):$(this).parent().removeClass("password_enter")}),$(".password__view").on("click",function(){$(this).hasClass("active")?($(this).removeClass("active"),$(this).siblings(".form__control").attr("type","password")):($(this).addClass("active"),$(this).siblings(".form__control").attr("type","text"))})}function validateFields(){$(".form-group").validate({highlight:function(e){$(e).parent().addClass("form__box_error").removeClass("form__box_valid")},unhighlight:function(e){$(e).parent().removeClass("form__box_error").addClass("form__box_valid")},rules:{request:{required:!1},firstname:"required",lastname:"required",username:{required:!0,minlength:2},birthday:{required:!0,myRuleDate:!0},email:{required:!0,email:!0,myEmail:!0},password:{required:!0,minlength:5},password_again:{required:!0,minlength:5,equalTo:"#password"}},messages:{request:{required:!1,minlength:!1},firstname:{required:!1,minlength:!1},lastname:{required:!1,minlength:!1},username:{required:!1,minlength:!1},email:{required:!1,email:!1,myEmail:!1},password:{required:!1,minlength:!1},password_again:{required:!1,minlength:!1,equalTo:!1},birthday:{required:!1,myRuleDate:!1}}})}function addDMY(){$.validator.addMethod("myRuleDate",function(e,t){return e.match(/^(?:(?:31(\/|-|\.)(?:0?[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0?[1,3-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-|\.)0?2\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0?[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$/)}),$.validator.addMethod("myEmail",function(e,t){return e.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)})}function dateMask(){$(".b-day").mask("99.99.9999",{placeholder:"dd.mm.yyyy"})}function checkAgree(){$(".form-group-privacy").click(function(){$(this).toggleClass("valid")})}function enableClick(){$(".form-group-check").on("click",function(){1==$(this).find("input").prop("checked")?($(".form-group-button-dis, .form-group-button").removeClass("btn-disable"),$(".form-group-button-dis, .form-group-button").prop("disabled",!1)):($(".form-group-button-dis, .form-group-button").addClass("btn-disable"),$(".form-group-button-dis, .form-group-button").prop("disabled",!0))})}function checkAvatar(){$(".create-event__file").addClass("loaded")}function deleteAvatar(){$(".create-event__file-tip.delete").on("click",function(e){e.preventDefault(),$(".create-event__file").removeClass("loaded"),$(".create-event__file-preview").removeAttr("src"),$('input[type="file"]').val("")})}function previewImage(e){if(0<$(".create-event").length||0<$(".account").length){var t=new FileReader;t.onload=function(){document.getElementById("output_image").src=t.result},t.readAsDataURL(e.target.files[0])}}function timeMask(){0<$(".form__box").length&&($.mask.definitions.H="[0-2]",$.mask.definitions.h="[0-9]",$.mask.definitions.M="[0-5]",$.mask.definitions.m="[0-9]",$('.form__control[data-name="time"]').mask("Hh:Mm",{completed:function(){var e=$(this).mask();isNaN(parseInt(e))?$(this).val(""):2359<parseInt(e)&&$(this).val("23:59")}}))}function datePicker(){$(".datepicker-here-holder .datepicker-here").datepicker({language:"en",autoClose:!0,minDate:new Date})}function checkImage(){$(".custom-file").addClass("check-image")}function eventDropDown(){$(".event__holder-dots").click(function(){$(".event__list").toggleClass("active-dropdown")}),$(document).on("mouseup touchend",function(e){var t=$(".event__list");t.is(e.target)||0!==t.has(e.target).length||t.removeClass("active-dropdown")})}function openMenuSetting(){$(".header__registered__welcome").click(function(){$(".header__registered__account").toggleClass("account-active")}),$(document).on("mouseup touchend",function(e){var t=$(".header__registered__account");t.is(e.target)||0!==t.has(e.target).length||t.removeClass("account-active")})}function callPopup(){$(".call-modal-js").magnificPopup({callbacks:{open:function(){$("body").css("overflow","hidden")},close:function(){$("body").css("overflow","")}}}),$(".btn-cancel").on("click",function(e){e.preventDefault(),$.magnificPopup.close()})}function calc(){$("#countPeople, #eventCost").on("change keyup keydown",function(){this.value=this.value.replace(/[^0-9\.,]/g,""),this.value=this.value.replace(/[,]/,"."),0==!$("#countPeople").val()&&0==!$("#eventCost").val()&&$(".value").html((+$("#eventCost").val()/+$("#countPeople").val()).toFixed(2))})}function calcToggle(){$(".switch").click(function(){1==$(this).find(".switch__toggle").prop("checked")?($(".switch__toggle").prop("checked",!0),$(".create-event__holder-estimation").slideDown("fast")):($(".switch__toggle").prop("checked",!1),$(".create-event__holder-estimation").slideUp("fast"))})}function previewExecutor(e){if(0<$(".create-event").length){var t=new FileReader;t.onload=function(){document.getElementById("event-output_image").src=t.result},t.readAsDataURL(e.target.files[0])}}function checkExecutor(){$(".account-preview").addClass("preview-active")}function customSelect(){jcf.setOptions("Select",{wrapNative:!1,wrapNativeOnMobile:!1}),jcf.replaceAll()}$(window).on("load",function(){$(".dashboard-cell_load")&&$(".dashboard-cell.dashboard-cell_load").removeClass("dashboard-cell_load")}),$(document).ready(initPage),addTask(),deleteAvatar();